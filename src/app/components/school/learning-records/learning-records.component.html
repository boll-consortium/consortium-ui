<div class="row py-4 px-5 no-gutters mt-3">
  <div class="col-sm-12 col-md-6">
    <h3 class="font-light">Learning Records</h3>
  </div>
</div>
<div class="bg-light">
  <div class="table-responsive border-top manage-table px-4 py-3">
    <table class="table no-wrap">
      <tbody *ngIf="recordInfos !== null && recordInfos !== undefined">
      <ng-container *ngFor="let contractAddress of objectKeys(recordInfos)">
        <tr class="advanced-table" (click)="showRecordInfo(contractAddress, selectedRecord !== contractAddress)"
            style="cursor: pointer;">
          <td class="pl-3">
              <i
                class="fa fa-chevron-{{selectedRecord === contractAddress ? 'down':'right'}}"></i> {{recordInfos[contractAddress].recordLabel}}
          </td>
          <!--<td>
          <button type="button" class="btn btn-xs btn-default" data-toggle="modal"
          attr.data-target="#modal-default{{i}}">Data
          </button>
          <button type="button" class="btn btn-xs bg-aqua"
          [routerLink]="['/permissions', 'records', rawInfo.contractAddress]">View Permissions
          </button>
          <div class="modal fade" id="modal-default{{i}}">
          <div class="modal-dialog">
          <div class="modal-content">
          <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Learning Log</h4>
          </div>
          <div class="modal-body" [innerHTML]="rawInfo.rawData?.innerHTML">
          </div>
          <div class="modal-footer">
          <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
          </div>
          </div>
          &lt;!&ndash; /.modal-content &ndash;&gt;
          </div>
          &lt;!&ndash; /.modal-dialog &ndash;&gt;
          </div>
          </td>-->
        </tr>
        <tr>
          <ng-container *ngIf="selectedRecord == contractAddress">
            <div class="pl-3" style="background: #ffffff;">
              <div class="row">
                <div class="col-xs-12 col-sm-6 col-md-4 p-5">
                  <p><span class="text-bold">Contract address:</span> {{contractAddress}}</p>
                  <p><span class="text-bold">Info:</span> <a [href]="recordInfos[contractAddress].recordType"
                                                             target="_blank">{{recordInfos[contractAddress].recordType}}
                    <i class="text-sm fa fa-external-link"></i>
                  </a></p>
                  <p><span
                    class="text-bold">Number of entries:</span> {{recordInfos[contractAddress].numberOfLearningRecords}}
                  </p>
                  <p><span
                    class="text-bold">Pending requests:</span> {{recordInfos[contractAddress].numberOfPendingRequests}}
                  </p>
                  <p>
                    <button type="button" class="btn btn-xs bg-aqua"
                            [routerLink]="['/permissions', 'records', contractAddress]"><i class="fa fa-eye"></i> View
                      Permissions
                    </button>
                    <button type="button" class="btn btn-xs bg-aqua"
                            [routerLink]="['/permissions', 'records', contractAddress]"><i class="fa fa-download"></i>
                      Download
                    </button>
                  </p>
                </div>
              </div>
            </div>
          </ng-container>
        </tr>
        <tr>
          <td colspan="6" class="sml-pd"></td>
        </tr>
      </ng-container>
      <tr class="advanced-table"
          *ngIf="learningRecords !== undefined && learningRecords !== null && itemsPerPage < learningRecords.length && !lastPage">
        <button type="button" (click)="loadMoreRecords()" class="btn btn-success btn-lg">Load More</button>
      </tr>
      </tbody>
    </table>
  </div>
</div>
